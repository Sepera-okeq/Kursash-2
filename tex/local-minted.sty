\ProvidesPackage{local-minted}[2014/04/27 Local minted options]

\ifdefined\NoMinted
\else
\usepackage{minted}

% Сюда вставлять общие опции
\def\mintedoptions{frame=none,fontsize=\small,style=bw,fontfamily=cyrillicfontttnoftr}

% Сюда пихать новые языки
\newcommand{\makenewmintedenviromnents}[1]{%
  \newminted{text}{#1}%
  \newminted{ebnf}{#1}%
  \newminted{python}{#1}%
  \newminted{txt}{#1}%
  \newmintedfile{text}{#1}%
  \newmintedfile{ebnf}{#1}%
  \newmintedfile{python}{#1}%
  \newmintedfile{txt}{#1}%
}

% Магия! Здесь происходит непосредственное определение всех окружений
\expandafter\makenewmintedenviromnents\expandafter{\mintedoptions}

% \newcommand{\makenewinputminted}[1]{%
% 	\renewcommand{\inputminted}[3][]{\inputminted[#1,##1]{##2}{##3}}
% }

% \expandafter\makenewinputminted\expandafter{\mintedoptions}

\renewcommand{\listingscaption}{Листинг}
\renewcommand{\listoflistingscaption}{Листинги} 
\fi
\endinput
